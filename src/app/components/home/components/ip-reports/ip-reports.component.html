<div *ngIf="isLoaded" [@fadeInOut]="isLoaded" class="py-4 px-6 bg-surface-medium rounded-lg">
  @if (!error.val) {
    <div>
      <h1 class="font-medium text-xl">Denúnicias</h1>
      <p>{{ summary.reports.length }} resultados</p>
    </div>
    <br />
    @if (summary.reports && summary.reports.length > 0) {
      <mat-list>
        @for (report of summary.reports; let i = $index; track i) {
          <mat-list-item>
            <span matListItemTitle
              ><b>Denúncia {{ i + 1 }}</b></span
            >
            <div class="float-left max-w-[30%]">
              <span matListItemLine><b>Relator</b>: {{ report.reporterId }}</span>
              <span matListItemLine><b>Data</b>: {{ getDate(report.reportedAt) }}</span>
            </div>
            <div class="float-right min-w-[60%]">
              <span matListItemLine><b>Comentário</b>: {{ report.comment }}</span>
              <span matListItemLine><b>Categorias</b>: {{ report.categories.join(', ') }}</span>
            </div>
          </mat-list-item>
          <br />
        }
      </mat-list>
    }
  } @else {
    <div class="min-h-[148px]">
      @if (error.code === 422) {
        <div class="m-auto w-[121px]">
          <app-not-found-icon></app-not-found-icon>
        </div>
        <p class="font-medium text-xl text-center">IP não encontrado :(</p>
      } @else {
        <div class="m-auto w-[121px]">
          <app-error-icon></app-error-icon>
        </div>
        <p class="font-medium text-xl text-center">Houve um erro. Tente novamente.</p>
      }
    </div>
  }
</div>
